!function(f){if("object"==typeof exports&&"undefined"!=typeof module)module.exports=f();else if("function"==typeof define&&define.amd)define([],f);else{var g;g="undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:this,g.dpicker_time=f()}}(function(){return function e(t,n,r){function s(o,u){if(!n[o]){if(!t[o]){var a="function"==typeof require&&require;if(!u&&a)return a(o,!0);if(i)return i(o,!0);var f=new Error("Cannot find module '"+o+"'");throw f.code="MODULE_NOT_FOUND",f}var l=n[o]={exports:{}};t[o][0].call(l.exports,function(e){var n=t[o][1][e];return s(n||e)},l,l.exports,e,t,n,r)}return n[o].exports}for(var i="function"==typeof require&&require,o=0;o<r.length;o++)s(r[o]);return s}({1:[function(require,module,exports){module.exports=function e(t,n){for(var o=0;o<n.length;o++){var i=n[o];if(Array.isArray(i))e(t,i);else{if(("number"==typeof i||"boolean"==typeof i||i instanceof Date||i instanceof RegExp)&&(i=i.toString()),"string"==typeof i){if(/^[\n\r\s]+$/.test(i))continue;if(t.lastChild&&"#text"===t.lastChild.nodeName){t.lastChild.nodeValue+=i;continue}i=document.createTextNode(i)}i&&i.nodeType&&t.appendChild(i)}}}},{}],2:[function(require,module,exports){"use strict";var _appendChild=require("yo-yoify/lib/appendChild"),_setAttribute=function e(t,a,r){if("object"!=typeof a)a&&("className"===a&&(a="class"),"htmlFor"===a&&(a="for"),"on"===a.slice(0,2)?t[a]=r:(!0===r&&(r=a),t.setAttribute(a,r)));else for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&e(t,n,a[n])};module.exports=function(e){function t(t){var a=t.meridiem?d:i,r=parseInt(t.step),s=n.filter(function(e){return e%r==0});return e.dateAdapter.getHours(t.model),[t.min,t.max].map(function(n,i){if(e.dateAdapter.isSameDay(t.model,n)){var d=e.dateAdapter.getHours(n),s=e.dateAdapter.getMinutes(n),o=n;0===i&&s+r>60&&(o=e.dateAdapter.setMinutes(e.dateAdapter.setHours(o,0===i?++d:--d),0),s=0),!0===t.meridiem&&(d>12?d-=12:0===d&&(d=12)),a=a.filter(function(e){return 0===i?e>=d:e<=d})}}),{hours:a,minutes:s}}function a(e){return e<10?"0"+e:""+e}function r(){if(this.data.time&&!(parseInt(this.data.step,10)<=1)){var a=t(this.data),r=a.minutes,n=e.dateAdapter.getMinutes(this.data.model);if(n<r[0]&&(this.data.model=e.dateAdapter.setMinutes(this.data.model,r[0]),n=r[0]),n>r[r.length-1])return void(this.data.model=e.dateAdapter.setMinutes(e.dateAdapter.addHours(this.data.model,1),0));r[r.length]=60,n=r.reduce(function(e,t){return Math.abs(t-n)<Math.abs(e-n)?t:e}),r.length--,this.data.model=e.dateAdapter.setMinutes(this.data.model,n)}}var n=new Array(60).fill(0).map(function(e,t){return t}),i=new Array(24).fill(0).map(function(e,t){return t}),d=new Array(12).fill(0).map(function(e,t){return 0===t?12:t});d.push(d.shift());var s=["AM","PM"];return e.renders.time=function(r,n){var i;if(!n.time){var d;return d=document.createElement("span"),d.setAttribute("style","display: none;"),d.setAttribute("class","dpicker-time"),d}var o=e.dateAdapter.getHours(n.model);!1!==n.meridiem&&(o=o>12?o-12:o,o=0===o?12:o);var u=t(n),p=u.hours,m=u.minutes,l=e.dateAdapter.getMinutes(n.model),c=[],h=o+":"+l,g=e.dateAdapter.getHours(n.min),A=e.dateAdapter.getMinutes(n.min),f=e.dateAdapter.getHours(n.max),v=e.dateAdapter.getMinutes(n.max);if(n.concatHoursAndMinutes){var C;c.push((C=document.createElement("select"),C.onchange=r.minuteHoursChange,C.setAttribute("name","dpicker-time"),C.setAttribute("aria-label","time"),_appendChild(C,[" ",[].concat.apply([],m.map(function(e){return p.map(function(t){return t+":"+e})})).filter(function(t){var a=t.split(":").map(parseFloat);return!(e.dateAdapter.isSameDay(n.model,n.min)&&a[0]===g&&a[1]<A||e.dateAdapter.isSameDay(n.model,n.max)&&a[0]===f&&a[1]>v)}).sort(function(e,t){return e=e.split(":").map(parseFloat),t=t.split(":").map(parseFloat),e[0]<t[0]?-1:e[0]>t[0]?1:e[1]<t[1]?-1:e[1]>t[1]?1:0}).map(function(e){var t,r=e.split(":").map(a).join(":");return t=document.createElement("option"),_setAttribute(t,e===h?"selected":"",e===h?"selected":""),t.setAttribute("value",""+String(e)),_appendChild(t,[r]),t})," "]),C))}else{var b,y;c.push((b=document.createElement("select"),b.onchange=r.hoursChange,b.setAttribute("name","dpicker-hours"),b.setAttribute("aria-label","Hours"),_appendChild(b,[p.map(function(e,t){var r;return r=document.createElement("option"),_setAttribute(r,e===o?"selected":"",e===o?"selected":""),r.setAttribute("value",""+String(e)),_appendChild(r,[a(e)]),r})]),b),(y=document.createElement("select"),y.onchange=r.minutesChange,y.setAttribute("name","dpicker-minutes"),y.setAttribute("aria-label","Minutes"),_appendChild(y,[m.filter(function(t){return!(e.dateAdapter.isSameDay(n.model,n.min)&&o===g&&t<A||e.dateAdapter.isSameDay(n.model,n.max)&&o===f&&t>v)}).map(function(e,t){var r;return r=document.createElement("option"),_setAttribute(r,e===l?"selected":"",e===l?"selected":""),r.setAttribute("value",""+String(e)),_appendChild(r,[a(e)]),r})]),y))}if(!1!==n.meridiem){var M,H=e.dateAdapter.getMeridiem(n.model);c.push((M=document.createElement("select"),M.onchange=r.meridiemChange,M.setAttribute("name","dpicker-meridiem"),_appendChild(M,[" ",s.map(function(e){var t;return t=document.createElement("option"),_setAttribute(t,H===e?"selected":"",H===e?"selected":""),t.setAttribute("value",""+String(e)),_appendChild(t,[e]),t})," "]),M))}return i=document.createElement("span"),i.setAttribute("class","dpicker-time"),_appendChild(i,[c]),i},e.events.hoursChange=function(t){this.data.empty=!1;var a=parseInt(t.target.options[t.target.selectedIndex].value,10);!1!==this.data.meridiem&&(e.dateAdapter.getMeridiem(this.data.model)===s[1]?a=12===a?12:a+12:12===a&&(a=0)),this.model=e.dateAdapter.setHours(this.data.model,a),!1===t.redraw&&this.redraw(),this.onChange({modelChanged:!0,name:"hoursChange",event:t})},e.events.minutesChange=function(t){this.data.empty=!1,this.model=e.dateAdapter.setMinutes(this.data.model,t.target.options[t.target.selectedIndex].value),!1===t.redraw&&this.redraw(),this.onChange({modelChanged:!0,name:"minutesChange",event:t})},e.events.minuteHoursChange=function(e){var t=e.target.options[e.target.selectedIndex].value.split(":");this.events.hoursChange({target:{options:[{value:t[0]}],selectedIndex:0},redraw:!1}),this.events.minutesChange({target:{options:[{value:t[1]}],selectedIndex:0},redraw:!1}),this.redraw()},e.events.meridiemChange=function(t){this.data.empty=!1;var a=t.target.options[t.target.selectedIndex].value,r=e.dateAdapter.getHours(this.data.model);r=a===s[0]?12===r?0:r-12:12===r?12:r+12,this.model=e.dateAdapter.setHours(this.data.model,r),this.redraw(),this.onChange({modelChanged:!0,name:"meridiemChange",event:t})},e.events.inputChange=e.decorate(e.events.inputChange,function(){r.apply(this)}),e.prototype.initialize=e.decorate(e.prototype.initialize,function(){r.apply(this)}),e.prototype.redraw=e.decorate(e.prototype.redraw,function(){r.apply(this)}),e.properties.time=function(e){return"datetime"===e.type},e.properties.step=function(e){return e.step?parseInt(e.step,10):1},e.properties.meridiem=!1,e.properties.concatHoursAndMinutes=!1,e}},{"yo-yoify/lib/appendChild":1}]},{},[2])(2)});
