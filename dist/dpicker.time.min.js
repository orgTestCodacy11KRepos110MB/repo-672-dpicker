!function(f){if("object"==typeof exports&&"undefined"!=typeof module)module.exports=f();else if("function"==typeof define&&define.amd)define([],f);else{var g;g="undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:this,g.dpicker_time=f()}}(function(){return function(){function r(e,n,t){function o(i,f){if(!n[i]){if(!e[i]){var c="function"==typeof require&&require;if(!f&&c)return c(i,!0);if(u)return u(i,!0);var a=new Error("Cannot find module '"+i+"'");throw a.code="MODULE_NOT_FOUND",a}var p=n[i]={exports:{}};e[i][0].call(p.exports,function(r){return o(e[i][1][r]||r)},p,p.exports,r,e,n,t)}return n[i].exports}for(var u="function"==typeof require&&require,i=0;i<t.length;i++)o(t[i]);return o}return r}()({1:[function(require,module,exports){module.exports=function e(t,n){for(var o=0;o<n.length;o++){var i=n[o];if(Array.isArray(i))e(t,i);else{if(("number"==typeof i||"boolean"==typeof i||i instanceof Date||i instanceof RegExp)&&(i=i.toString()),"string"==typeof i){if(/^[\n\r\s]+$/.test(i))continue;if(t.lastChild&&"#text"===t.lastChild.nodeName){t.lastChild.nodeValue+=i;continue}i=document.createTextNode(i)}i&&i.nodeType&&t.appendChild(i)}}}},{}],2:[function(require,module,exports){module.exports=function e(o,t,s){if("object"!=typeof t)t&&("className"===t&&(t="class"),"htmlFor"===t&&(t="for"),"on"===t.slice(0,2)?o[t]=s:(!0===s&&(s=t),o.setAttribute(t,s)));else for(var r in t)t.hasOwnProperty(r)&&e(o,r,t[r])}},{}],3:[function(require,module,exports){"use strict";var _appendChild=require("yo-yoify/lib/appendChild"),_setAttribute=require("yo-yoify/lib/setAttribute");module.exports=function(e){function i(n){var i=n.meridiem?r:a,d=parseInt(n.step),s=t.filter(function(e){return e%d==0});return[n.min,n.max].map(function(t,a){if(e.dateAdapter.isSameDay(n.model,t)){var r=e.dateAdapter.getHours(t),s=e.dateAdapter.getMinutes(t);0===a&&s+d>60&&(e.dateAdapter.setMinutes(e.dateAdapter.setHours(t,0===a?++r:--r),0),s=0),!0===n.meridiem&&(r>12?r-=12:0===r&&(r=12)),i=i.filter(function(e){return 0===a?e>=r:e<=r})}}),{hours:i,minutes:s}}function d(e){return e<10?"0"+e:""+e}function s(){if(this.data.time&&!(parseInt(this.data.step,10)<=1)){var t=i(this.data).minutes,a=e.dateAdapter.getMinutes(this.data.model);a<t[0]&&(this.data.model=e.dateAdapter.setMinutes(this.data.model,t[0]),a=t[0]),a>t[t.length-1]?this.data.model=e.dateAdapter.setMinutes(e.dateAdapter.addHours(this.data.model,1),0):(t[t.length]=60,a=t.reduce(function(e,t){return Math.abs(t-a)<Math.abs(e-a)?t:e}),t.length--,this.data.model=e.dateAdapter.setMinutes(this.data.model,a))}}var t=new Array(60).fill(0).map(function(e,t){return t}),a=new Array(24).fill(0).map(function(e,t){return t}),r=new Array(12).fill(0).map(function(e,t){return 0===t?12:t});r.push(r.shift());var n=["AM","PM"];return e.renders.time=function(t,a){var r,s;if(!a.time)return(s=document.createElement("span")).setAttribute("style","display: none;"),s.setAttribute("class","dpicker-time"),s;var u=e.dateAdapter.getHours(a.model);!1!==a.meridiem&&(u=0===(u=u>12?u-12:u)?12:u);var o=i(a),p=o.hours,m=o.minutes,l=e.dateAdapter.getMinutes(a.model),c=[],h=u+":"+l,g=e.dateAdapter.getHours(a.min),A=e.dateAdapter.getMinutes(a.min),f=e.dateAdapter.getHours(a.max),v=e.dateAdapter.getMinutes(a.max);if(a.concatHoursAndMinutes){var C,y=[].concat.apply([],m.map(function(e){return p.map(function(t){return t+":"+e})})).filter(function(t){var r=t.split(":").map(parseFloat);return!(e.dateAdapter.isSameDay(a.model,a.min)&&r[0]===g&&r[1]<A||e.dateAdapter.isSameDay(a.model,a.max)&&r[0]===f&&r[1]>v)}).sort(function(e,t){return e=e.split(":").map(parseFloat),t=t.split(":").map(parseFloat),e[0]<t[0]?-1:e[0]>t[0]?1:e[1]<t[1]?-1:e[1]>t[1]?1:0}).map(function(e){var t,a=e.split(":").map(d).join(":");return t=document.createElement("option"),_setAttribute(t,e===h?"selected":"",e===h?"selected":""),t.setAttribute("value",""+String(e)),_appendChild(t,[a]),t});c.push(((C=document.createElement("select")).onchange=t.minuteHoursChange,C.setAttribute("name","dpicker-time"),C.setAttribute("aria-label","time"),_appendChild(C,[y]),C))}else{var b,M;c.push(((b=document.createElement("select")).onchange=t.hoursChange,b.setAttribute("name","dpicker-hours"),b.setAttribute("aria-label","Hours"),_appendChild(b,[p.map(function(e,t){var a;return a=document.createElement("option"),_setAttribute(a,e===u?"selected":"",e===u?"selected":""),a.setAttribute("value",""+String(e)),_appendChild(a,[d(e)]),a})]),b),((M=document.createElement("select")).onchange=t.minutesChange,M.setAttribute("name","dpicker-minutes"),M.setAttribute("aria-label","Minutes"),_appendChild(M,[m.filter(function(t){return!(e.dateAdapter.isSameDay(a.model,a.min)&&u===g&&t<A||e.dateAdapter.isSameDay(a.model,a.max)&&u===f&&t>v)}).map(function(e,t){var a;return a=document.createElement("option"),_setAttribute(a,e===l?"selected":"",e===l?"selected":""),a.setAttribute("value",""+String(e)),_appendChild(a,[d(e)]),a})]),M))}if(!1!==a.meridiem){var _,H=e.dateAdapter.getMeridiem(a.model);c.push(((_=document.createElement("select")).onchange=t.meridiemChange,_.setAttribute("name","dpicker-meridiem"),_appendChild(_,[" ",n.map(function(e){var t;return t=document.createElement("option"),_setAttribute(t,H===e?"selected":"",H===e?"selected":""),t.setAttribute("value",""+String(e)),_appendChild(t,[e]),t})," "]),_))}return(r=document.createElement("span")).setAttribute("class","dpicker-time"),_appendChild(r,[c]),r},e.events.hoursChange=function(t){this.data.empty=!1;var a=parseInt(t.target.options[t.target.selectedIndex].value,10);!1!==this.data.meridiem&&(e.dateAdapter.getMeridiem(this.data.model)===n[1]?a=12===a?12:a+12:12===a&&(a=0)),this.model=e.dateAdapter.setHours(this.data.model,a),!1===t.redraw&&this.redraw(),this.onChange({modelChanged:!0,name:"hoursChange",event:t})},e.events.minutesChange=function(t){this.data.empty=!1,this.model=e.dateAdapter.setMinutes(this.data.model,t.target.options[t.target.selectedIndex].value),!1===t.redraw&&this.redraw(),this.onChange({modelChanged:!0,name:"minutesChange",event:t})},e.events.minuteHoursChange=function(e){var t=e.target.options[e.target.selectedIndex].value.split(":");this.events.hoursChange({target:{options:[{value:t[0]}],selectedIndex:0},redraw:!1}),this.events.minutesChange({target:{options:[{value:t[1]}],selectedIndex:0},redraw:!1}),this.redraw()},e.events.meridiemChange=function(t){this.data.empty=!1;var a=t.target.options[t.target.selectedIndex].value,r=e.dateAdapter.getHours(this.data.model);r=a===n[0]?12===r?0:r-12:12===r?12:r+12,this.model=e.dateAdapter.setHours(this.data.model,r),this.redraw(),this.onChange({modelChanged:!0,name:"meridiemChange",event:t})},e.events.inputChange=e.decorate(e.events.inputChange,function(){s.apply(this)}),e.prototype.initialize=e.decorate(e.prototype.initialize,function(){s.apply(this)}),e.prototype.redraw=e.decorate(e.prototype.redraw,function(){s.apply(this)}),e.properties.time=function(e){return"datetime"===e.type},e.properties.step=function(e){return e.step?parseInt(e.step,10):1},e.properties.meridiem=!1,e.properties.concatHoursAndMinutes=!1,e}},{"yo-yoify/lib/appendChild":1,"yo-yoify/lib/setAttribute":2}]},{},[3])(3)});
