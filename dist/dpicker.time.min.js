!function e(t,n,r){function s(o,u){if(!n[o]){if(!t[o]){var a="function"==typeof require&&require;if(!u&&a)return a(o,!0);if(i)return i(o,!0);var f=new Error("Cannot find module '"+o+"'");throw f.code="MODULE_NOT_FOUND",f}var l=n[o]={exports:{}};t[o][0].call(l.exports,function(e){var n=t[o][1][e];return s(n?n:e)},l,l.exports,e,t,n,r)}return n[o].exports}for(var i="function"==typeof require&&require,o=0;o<r.length;o++)s(r[o]);return s}({1:[function(require,module,exports){module.exports=function e(t,n){for(var o=0;o<n.length;o++){var a=n[o];if(Array.isArray(a))e(t,a);else{if(("number"==typeof a||"boolean"==typeof a||a instanceof Date||a instanceof RegExp)&&(a=a.toString()),"string"==typeof a){if(t.lastChild&&"#text"===t.lastChild.nodeName){t.lastChild.nodeValue+=a;continue}a=document.createTextNode(a)}a&&a.nodeType&&t.appendChild(a)}}}},{}],2:[function(require,module,exports){"use strict";function getHoursMinutes(e){var t=e.meridiem?HOURS12:HOURS24,n=MINUTES.filter(function(t){return t%e.step===0});return[e.min,e.max].map(function(i,r){if(e.model.isSame(i,"day")){var a=+e.meridiem?i.format("h"):i.hours();if(t=t.filter(function(e){return 0===r?e>=a:e<=a}),e.model.isSame(i,"hours")){var s=i.minutes();n=n.filter(function(e){return 0===r?e>=s:e<=a})}}}),{hours:t,minutes:n}}function padLeftZero(e){return e<10?"0"+e:""+e}function minutesStep(){if(this._data.time){var e=getHoursMinutes(this._data),t=(e.hours,e.minutes),n=this._data.model.minutes();if(0===t.length){this._data.min.minutes(0),this._data.min.add(1,"hours");var i=getHoursMinutes(this._data);i.hours,i.minutes}return this._data.model.minutes()<t[0]&&(this._data.model.minutes(t[0]),n=t[0]),n>t[t.length-1]?(this._data.model.minutes(0),void this._data.model.add(1,"hours")):void(this._data.step<=1||(t[t.length]=60,n=t.reduce(function(e,t){return Math.abs(t-n)<Math.abs(e-n)?t:e}),t.length--,this._data.model.minutes(n)))}}var _appendChild=require("yo-yoify/lib/appendChild");if(!DPicker)throw new ReferenceError("DPicker is required for this extension to work");var MINUTES=new Array(60).fill(0).map(function(e,t){return t}),HOURS24=new Array(24).fill(0).map(function(e,t){return t}),HOURS12=new Array(12).fill(0).map(function(e,t){return 0===t?12:t});HOURS12.push(HOURS12.shift());var renderTime=function(e,t,n){var i;if(!t.time){var r;return r=document.createElement("span"),r.setAttribute("style","display: none;"),r.setAttribute("class","dpicker-time"),r}var a=t.model.hours();t.meridiem&&(a=a>12?a-12:a,a=0===a?12:a);var s=getHoursMinutes(t),u=s.hours,d=s.minutes,o=t.model.minutes(),m=[],l=a+":"+o;if(t.concatHoursAndMinutes){var p;m.push((p=document.createElement("select"),p.onchange=e.minuteHoursChange,p.setAttribute("name","dpicker-time"),p.setAttribute("aria-label","time"),_appendChild(p,[" ",[].concat.apply([],d.map(function(e){return u.map(function(t){return t+":"+e})})).sort(function(e,t){return e=e.split(":").map(parseFloat),t=t.split(":").map(parseFloat),e[0]<t[0]?-1:e[0]>t[0]?1:e[1]<t[1]?-1:e[1]>t[1]?1:0}).map(function(e){var t=e.split(":").map(padLeftZero).join(":");if(e===l){var n;return n=document.createElement("option"),n.setAttribute("selected","selected"),n.setAttribute("value",""+String(e)),_appendChild(n,[t]),n}var i;return i=document.createElement("option"),i.setAttribute("value",""+String(e)),_appendChild(i,[t]),i})," "]),p))}else{var c,h;m.push((c=document.createElement("select"),c.onchange=e.hoursChange,c.setAttribute("name","dpicker-hours"),c.setAttribute("aria-label","Hours"),_appendChild(c,[u.map(function(e,t){var n;return n=document.createElement("option"),n.setAttribute("selected",""+String(e===a?"selected":null)),n.setAttribute("value",""+String(e)),_appendChild(n,[padLeftZero(e)]),n})]),c),(h=document.createElement("select"),h.onchange=e.minutesChange,h.setAttribute("name","dpicker-minutes"),h.setAttribute("aria-label","Minutes"),_appendChild(h,[d.map(function(e,t){var n;return n=document.createElement("option"),n.setAttribute("selected",""+String(e===o?"selected":null)),n.setAttribute("value",""+String(e)),_appendChild(n,[padLeftZero(e)]),n})]),h))}if(t.meridiem){var f,v=t.model.format("A");m.push((f=document.createElement("select"),f.onchange=e.meridiemChange,f.setAttribute("name","dpicker-meridiem"),_appendChild(f,[" ",["AM","PM"].map(function(e){if(v===e){var t;return t=document.createElement("option"),t.setAttribute("value",""+String(e)),t.setAttribute("selected","selected"),_appendChild(t,[e]),t}var n;return n=document.createElement("option"),n.setAttribute("value",""+String(e)),_appendChild(n,[e]),n})," "]),f))}return i=document.createElement("span"),i.setAttribute("class","dpicker-time"),_appendChild(i,[m]),i},events={hoursChange:function(e){this._data.empty=!1;var t=parseInt(e.target.options[e.target.selectedIndex].value,10);this._data.meridiem&&("PM"===this._data.model.format("A")?t=12===t?12:t+12:12===t&&(t=0)),this._data.model.hours(t),this.redraw(),this.onChange()},minutesChange:function(e){this._data.empty=!1,this._data.model.minutes(e.target.options[e.target.selectedIndex].value),this.redraw(),this.onChange()},minuteHoursChange:function(e){var t=e.target.options[e.target.selectedIndex].value.split(":");this._events.hoursChange({target:{options:[{value:t[0]}],selectedIndex:0}}),this._events.minutesChange({target:{options:[{value:t[1]}],selectedIndex:0}})},meridiemChange:function(e){this._data.empty=!1;var t=e.target.options[e.target.selectedIndex].value,n=this._data.model.hours();n="AM"===t?12===n?0:n-12:12===n?12:n+12,this._data.model.hours(n),this.redraw(),this.onChange()},inputChange:function(){minutesStep.apply(this)}};DPicker.modules.time={events:events,render:{time:renderTime},properties:{time:{"default":!1,attribute:function(e){return"datetime"===e.type||void 0}},meridiem:{"default":!1,attribute:"meridiem"},step:{"default":1,attribute:function(e){return e.step?parseInt(e.step,10):void 0}},concatHoursAndMinutes:{"default":!1}},calls:{initialize:function(e){minutesStep.apply(this)},redraw:function(){minutesStep.apply(this)},modelSetter:function(e){minutesStep.apply(this)}}}},{"yo-yoify/lib/appendChild":1}]},{},[2]);
